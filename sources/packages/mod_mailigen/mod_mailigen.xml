<?xml version="1.0" encoding="utf-8"?>
<extension type="module" version="2.5" method="upgrade" client="site">

    <name>mod_mailigen</name>
    <creationDate>2018-09-27</creationDate>
    <copyright>2010-2018 Mailigen. All rights reserved.</copyright>
    <license>GNU General Public License version 2 or later; see LICENSE.txt</license>
    <author>Mailigen</author>
    <authorEmail>sales@mailigen.com</authorEmail>
    <authorUrl>https://www.mailigen.com/</authorUrl>
    <version>1.0.0</version>
    <description>This module allows your website visitors to subscribe to your Mailigen newsletter lists.</description>

    <files>
        <filename module="mod_mailigen">mod_mailigen.php</filename>
        <filename>index.html</filename>        
        <filename>helper.php</filename>
        <folder>tmpl</folder>
        <folder>includes</folder>
    </files>    

    <media destination="mod_mailigen" folder="media">
        <folder>images</folder>
        <filename>index.html</filename>
    </media>

    <languages>
        <language tag="en-GB">language/en-GB/en-GB.mod_mailigen.ini</language>
        <language tag="en-GB">language/en-GB/en-GB.mod_mailigen.sys.ini</language>
    </languages>

    <config>
        <fields name="params" addfieldpath="/modules/mod_mailigen/includes">

            <fieldset name="basic">

                <field 
                    name="listid" 
                    type="lists" 
                    default="" 
                    cols="25" 
                    rows="2" 
                    required="1"
                    label="MOD_MAILIGEN_LIST" 
                    description="MOD_MAILIGEN_LIST_DESC" />

                <field 
                    name="double_optin" 
                    type="radio" 
                    default="1" 
                    required="1"
                    label="MOD_MAILIGEN_DOUBLE_OPTIN_TEXT" 
                    description="MOD_MAILIGEN_DOUBLE_OPTIN_DESC">
                    <option value="1">JYES</option>
                    <option value="0">JNO</option>
                </field>

                <field 
                    name="update_existing" 
                    type="radio" 
                    default="0" 
                    required="1"
                    label="MOD_MAILIGEN_UPDATE_EXISTING_TEXT" 
                    description="MOD_MAILIGEN_UPDATE_EXISTING_DESC">
                    <option value="1">JYES</option>
                    <option value="0">JNO</option>
                </field>

                 <field 
                    name="send_welcome" 
                    type="radio" 
                    default="0" 
                    required="1"
                    label="MOD_MAILIGEN_SEND_WELCOME_TEXT" 
                    description="MOD_MAILIGEN_SEND_WELCOME_DESC">
                    <option value="1">JYES</option>
                    <option value="0">JNO</option>
                </field>
                
                <field 
                    name="fields" 
                    type="checkboxes"
                    label="MOD_MAILIGEN_ADDITIONAL_FIELDS" 
                    description="MOD_MAILIGEN_ADDITIONAL_FIELDS_DESC">

                        <option value="name">MOD_MAILIGEN_FIELD_NAME</option>

                       <!--  <option value="first_name">MOD_MAILIGEN_FIELD_FIRST_NAME</option>
                        <option value="last_name">MOD_MAILIGEN_FIELD_LAST_NAME</option> -->

                </field>

                <field 
                    name="intro_text" 
                    type="textarea" 
                    default="" 
                    filter="raw" 
                    cols="25" 
                    rows="2" 
                    label="MOD_MAILIGEN_INTRO_TEXT" 
                    description="MOD_MAILIGEN_INTRO_TEXT_DESC" />

                <field name="text_above_submit" 
                    type="textarea" 
                    default="" 
                    filter="raw" 
                    cols="25" 
                    rows="2" 
                    label="MOD_MAILIGEN_TEXT_ABOVE_SUBMIT_TEXT" 
                    description="MOD_MAILIGEN_TEXT_ABOVE_SUBMIT_DESC" />

                <field 
                    name="text_below_submit" 
                    type="textarea" 
                    default="" 
                    filter="raw" 
                    cols="25" 
                    rows="2" 
                    label="MOD_MAILIGEN_TEXT_BELOW_SUBMIT_TEXT" 
                    description="MOD_MAILIGEN_TEXT_BELOW_SUBMIT_DESC" />

                <field 
                    name="thankyou_text" 
                    type="textarea" 
                    filter="raw" 
                    default="Thank you! Please check your email and confirm the newsletter subscription." 
                    cols="25" 
                    rows="2" 
                    required="1"
                    label="MOD_MAILIGEN_THANKYOU_TEXT" 
                    description="MOD_MAILIGEN_THANKYOU_DESC" />

                <field 
                    name="updated_text" 
                    type="textarea" 
                    filter="raw" 
                    default="You were already subscribed to this list. Your settings have been updated. Thank you!" 
                    cols="25" 
                    rows="2" 
                    required="1"
                    label="MOD_MAILIGEN_UPDATED_MESSAGE" 
                    description="MOD_MAILIGEN_UPDATED_DESC" />

            </fieldset>

            <fieldset name="advanced">
                <field
                    name="layout"
                    type="modulelayout"
                    label="JFIELD_ALT_LAYOUT_LABEL"
                    description="JFIELD_ALT_MODULE_LAYOUT_DESC" />

                <field name="moduleclass_sfx" 
                    type="text" 
                    label="COM_MODULES_FIELD_MODULECLASS_SFX_LABEL" 
                    description="COM_MODULES_FIELD_MODULECLASS_SFX_DESC" />
            </fieldset>

        </fields>
    </config>
</extension>
